# Time
 > Time Enhancement Functions

## 1. time_get_month_period_ranges($start_str,$end_str): array
Get the upper, middle and lower segment arrays of the specified start and end time
#### Parameters
 - {string} *$start_str* 
 - {string} *$end_str* 

#### Returns
 - array [[period_th, start_time, end_time],...]

## 2. keep_interval($timer_key,$interval)
Call interval guarantee
#### Parameters
 - {string} *$timer_key* 
 - {int} *$interval* 
## 3. get_timezone_offset_min_between_gmt($timezone_title): float|int
#### Parameters
 - {string} *$timezone_title* 

#### Returns
 - float|int 

## 4. get_time_left(): int|null
Get the remaining time (seconds)
If it is CLI mode, this function does not perform calculations

#### Returns
 - int|null seconds, null means unlimited

## 5. filter_date_range($ranges,$default_start,$default_end,$as_datetime): array
Filter time range, add hours, minutes and seconds
#### Parameters
 - {array} *$ranges* time range (start, end)
 - {string|int} *$default_start* default start time
 - {string|int} *$default_end* default end time
 - {bool} *$as_datetime* whether to return in date + time format

#### Returns
 - array [start time, end time]

## 6. microtime_diff($start,$end): float
Calculate a precise time difference.
#### Parameters
 - {string} *$start* result of microtime()
 - {string} *$end* result of microtime(); if NULL/FALSE/0/'' then it's now

#### Returns
 - float difference in seconds, calculated with minimum precision loss

## 7. format_time_size($secs,$keep_zero_padding,$full_desc): string
format time range
#### Parameters
 - {int} *$secs* 
 - {bool} *$keep_zero_padding* 
 - {bool} *$full_desc* 

#### Returns
 - string 

## 8. microtime_to_date($microtime,$format,$precision): string
Convert microseconds to the specified time format
#### Parameters
 - {string} *$microtime* microsecond string, generated by microtime(false)
 - {string} *$format* time format
 - {int} *$precision* precision (seconds later)

#### Returns
 - string 

## 9. float_time_to_date($float_time,$format,$precision): string
Convert seconds (floating point number) to the specified time format
#### Parameters
 - {float} *$float_time* time, generated by microtime(true)
 - {string} *$format* time format
 - {int} *$precision* precision (seconds later)

#### Returns
 - string 

## 10. time_empty($time_str): bool
check time string is empty (cmp to 1970)
#### Parameters
 - {string} *$time_str* 

#### Returns
 - bool 

## 11. pretty_time($timestamp,$as_html): string
Format the time to display in a friendly way
#### Parameters
 - {int} *$timestamp* 
 - {bool} *$as_html* whether to use span wrapping

#### Returns
 - string 

## 12. make_date_ranges($start,$end,$format): array
Supplement the date range and fill in the blank days in the middle
#### Parameters
 - {string|int} *$start* start time (start time is allowed to be greater than end time)
 - {string|int} *$end* end time
 - {string} *$format* result date format, if set to month, the function will automatically remove duplicates

#### Returns
 - array 

## 13. calc_actual_date($start,$days): string
Get the date after $days base on start day
Actual date = number of working days + number of weekend days - 1
#### Parameters
 - {string} *$start* start date
 - {int} *$days* Number of working days: positive number means going backward, negative number means going forward

#### Returns
 - string Ymd date

## 14. time_range($start,$end): string
Calculate time difference to text
#### Parameters
 - {string} *$start* 
 - {string} *$end* 

#### Returns
 - string 

## 15. time_get_eta($start_time,$index,$total,$pretty): int|string
Calculate the estimated end time ETA
#### Parameters
 - {int} *$start_time* start time
 - {int} *$index* Current processing sequence number
 - {int} *$total* total quantity
 - {bool} *$pretty* whether to return the remaining time in text format, set false to return seconds

#### Returns
 - int|string 

## 16. time_range_v($seconds): string
Convert time length to string
<pre>
$str = time_range_v(3601);
//1H 0M 1S
</pre>
#### Parameters
 - {int} *$seconds* 

#### Returns
 - string 

## 17. mk_utc($timestamp,$short): array|false|string|string[]
Make UTC time string
#### Parameters
 - {mixed} *$timestamp* 
 - {mixed} *$short* 

#### Returns
 - array|false|string|string[] 



