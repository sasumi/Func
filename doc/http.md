# Http
 > HTTP Enhancement Function

## 1. http_send_status($status): bool
Send HTTP status code
#### Parameters
 - {int} *$status* http status code

#### Returns
 - bool 

## 2. http_chunk_on()
Enable httpd server chunk output
## 3. http_send_cors($allow_hosts,$http_origin)
Return cross-domain CORS header information
#### Parameters
 - {string[]} *$allow_hosts* List of domain names allowed to pass through, empty means all source domain names are allowed
 - {string} *$http_origin* origin request, format: http://www.abc.com, by default obtained from HTTP_ORIGIN or HTTP_REFERER
## 4. http_send_charset($charset): bool
Send HTTP header character set
#### Parameters
 - {string} *$charset* 

#### Returns
 - bool whether it is successful

## 5. http_get_status_message($status): string|null
Get the corresponding description of the HTTP status code
#### Parameters
 - {int} *$status* 

#### Returns
 - string|null 

## 6. http_redirect($url,$permanently)
HTTP redirect
#### Parameters
 - {string} *$url* jump path
 - {bool} *$permanently* whether it is a long-term resource redirection
## 7. http_get_request_headers(): array
Get HTTP request header information array

#### Returns
 - array [key=>val]

## 8. http_get_request_header($key): mixed|null
Get the specified key value in the HTTP request header
#### Parameters
 - {string} *$key* case-insensitive

#### Returns
 - mixed|null 

## 9. http_parse_headers($header_str): array
Parse http header information
#### Parameters
 - {mixed} *$header_str* 

#### Returns
 - array 

## 10. http_from_json_request(): bool
Determine whether the request method is JSON

#### Returns
 - bool 

## 11. http_get_content_type($directives): string
Get the content-type in the http request header
#### Parameters
 - {array} *$directives* additional directives, such as ['charset'=>'utf-8'], or ['boundary'=>'ExampleBoundaryString']

#### Returns
 - string 

## 12. http_request_accept_json($include_generic_match): bool
Determine whether the request is received in SON format
#### Parameters
 - {bool} *$include_generic_match* Whether to support generic matching. Since the client may not strictly process the format of the request, this option is generally not enabled.

#### Returns
 - bool 

## 13. http_parse_string_use_q_value($str): array
Parse http header information in a weighted manner, Accept, Accept-Encoding, Accept-Language, TE, Want-Digest
#### Parameters
 - {mixed} *$str* 

#### Returns
 - array [[type, q], ...]

## 14. request_in_post(): bool
Request comes from POST

#### Returns
 - bool 

## 15. request_in_get(): bool
Request comes from GET

#### Returns
 - bool 

## 16. http_get_current_page_url($with_protocol): string
Get the current page address
#### Parameters
 - {bool} *$with_protocol* whether to include the protocol header

#### Returns
 - string 

## 17. http_get_current_host($with_protocol,$with_port): string
Get the domain name of the current page
#### Parameters
 - {bool} *$with_protocol* whether to include the protocol header: http, https
 - {bool} *$with_port* whether to include the port (valid only for non-http:80, https:443)

#### Returns
 - string such as http://www.abc.com http://www.abc.com:81 does not contain a slash at the end

## 18. http_download_stream($file,$download_name,$disposition): false|int
Download files by file streaming
#### Parameters
 - {string} *$file* file path
 - {string} *$download_name* Download file name
 - {string} *$disposition* header type

#### Returns
 - false|int Successfully downloaded file size, false means failed

## 19. http_json_response($json,$json_option): void
Response json data
#### Parameters
 - {mixed} *$json* 
 - {int} *$json_option* 

#### Returns
 - void 

## 20. http_header_json_response($charset)
Response JSON return header
#### Parameters
 - {string} *$charset* 
## 21. http_header_download($download_name,$disposition)
Send file download header information
#### Parameters
 - {string} *$download_name* 
 - {string} *$disposition* 
## 22. http_header_csp($csp_rules,$report_uri,$report_only)
Send CSP header
#### Parameters
 - {string[]} *$csp_rules* It is recommended to use the rules generated by the csp_content_rule() method
 - {string} *$report_uri* 
 - {bool} *$report_only* 
## 23. http_header_report_api($endpoint_urls,$group,$max_age_sec,$include_subdomains)
Send browser settings Report API
#### Parameters
 - {string[]} *$endpoint_urls* 
 - {string} *$group* 
 - {number} *$max_age_sec* 
 - {bool} *$include_subdomains* 
## 24. http_header_report_api_nel($endpoint_urls,$group,$max_age_sec,$include_subdomains): void
Send browser error logs to Report API
#### Parameters
 - {string[]} *$endpoint_urls* 
 - {string} *$group* 
 - {number} *$max_age_sec* 
 - {bool} *$include_subdomains* 

#### Returns
 - void 

## 25. generate_report_api($endpoint_urls,$group,$max_age_sec,$include_subdomains): array
Generate Report API
#### Parameters
 - {string[]} *$endpoint_urls* 
 - {string} *$group* 
 - {number} *$max_age_sec* 
 - {bool} *$include_subdomains* 

#### Returns
 - array 

## 26. http_parse_cookie($cookie_str): array
Parse the cookie string into a hash array
#### Parameters
 - {string} *$cookie_str* 

#### Returns
 - array 

## 27. http_fix_relative_url($url,$base_url): string|string[]
Correct relative URL to absolute URL
#### Parameters
 - {string} *$url* 
 - {string} *$base_url* base url (such as page url)

#### Returns
 - string|string[] 



